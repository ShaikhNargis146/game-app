<!-- left menu -->
<left-menu></left-menu>

<!-- right menu -->
<right-menu></right-menu>
<div class="kingtable">
  <div class="top_field">
    <div class="option_menu_icon left" ng-click="openLeftMenu()">
      <!-- <img src="img/option.png" class=""> -->
      <i class="icon ion-navicon-round"></i>
    </div>
    <!-- <game-history></game-history> -->
    <div class="right_side_icon right">
      <div class="setting_menu_icon">
        <span class="icon ion-information" ng-click="toggleTableInfo()"></span>
        <img src="img/option.png" ng-click="openRightMenu()">
      </div>
      <table-info></table-info>
    </div>

  </div>

  <div class="main-table" ng-click="closeAllModal()">
    <div class="playing-table">
      <img src="img/doll.png" class="doll">
      <img src="img/table.png" class="bg-table">
      <!-- <div class="tip" ng-click="makeTip()">
        TIP
      </div> -->
      <!-- Cards -->
      <pot-amount ng-amount="potAmount" ng-winner="winnerPlayerNo" ng-player="players"> </pot-amount>

      <div class="card_shuffle">
        <div class="cards">
          <card card='NONE'> </card>
          <card card='NONE'> </card>
          <card card='NONE'> </card>
        </div>
        <div class="cards toplyr1">
          <card card='NONE'> </card>
          <card card='NONE'> </card>
          <card card='NONE'> </card>
        </div>
      </div>

      <!-- player -->
      <div class="players">
        <players id="plr1" ng-click="sitHerefn(1)" ng-remaining-player="remainingCount" ng-pos="1" ng-player="getPlayer(-1)" ng-sit-here="sitHere"
          ng-win="winnerPlayerNo" ng-animation="startAnimation">
        </players>
        <div class="p1 bootAnimate" ng-if="(getPlayer(-1).isChaal==true && !getPlayer(-1).isFold) || (getPlayer(-1) && startCoinAnime)">
          <img src="img/coin.png" class="coin">{{ chaalAmt}}
        </div>
        <players id="plr2" ng-click="sitHerefn(2)" ng-pos="2" ng-remaining-player="remainingCount" ng-player="getPlayer(-2)" ng-sit-here="sitHere"
          ng-win="winnerPlayerNo" ng-animation="startAnimation">
        </players>
        <div class="p2 bootAnimate" ng-if="(getPlayer(-2).isChaal==true && !getPlayer(-2).isFold) || (getPlayer(-2) && startCoinAnime)">
          <img src="img/coin.png" class="coin">{{chaalAmt}}
        </div>
        <players id="plr3" ng-click="sitHerefn(3)" ng-pos="3" ng-remaining-player="remainingCount" ng-player="getPlayer(-3)" ng-sit-here="sitHere"
          ng-win="winnerPlayerNo" ng-animation="startAnimation">
        </players>
        <div class="p3 bootAnimate" ng-if="(getPlayer(-3).isChaal==true && !getPlayer(-3).isFold) ||  (getPlayer(-3) && startCoinAnime) ">
          <img src="img/coin.png" class="coin">{{chaalAmt}}
        </div>
        <players id="plr4" ng-click="sitHerefn(4)" ng-pos="4" ng-remaining-player="remainingCount" ng-player="getPlayer(-4)" ng-sit-here="sitHere"
          ng-win="winnerPlayerNo" ng-animation="startAnimation">
        </players>
        <div class="p4 bootAnimate" ng-if="(getPlayer(-4).isChaal==true && !getPlayer(-4).isFold) ||  (getPlayer(-4) && startCoinAnime)">
          <img src="img/coin.png" class="coin">{{chaalAmt}}
        </div>
        <players id="plr5" ng-click="sitHerefn(5)" ng-pos="5" ng-remaining-player="remainingCount" ng-player="getPlayer(4)" ng-sit-here="sitHere"
          ng-win="winnerPlayerNo" ng-animation="startAnimation">
        </players>
        <div class="p5 bootAnimate" ng-if="(getPlayer(4).isChaal==true && !getPlayer(4).isFold) ||  (getPlayer(4) && startCoinAnime)">
          <img src="img/coin.png" class="coin">{{chaalAmt}}
        </div>
        <players id="plr6" ng-click="sitHerefn(6)" ng-pos="6" ng-remaining-player="remainingCount" ng-player="getPlayer(3)" ng-sit-here="sitHere"
          ng-win="winnerPlayerNo" ng-animation="startAnimation">
        </players>
        <div class="p6 bootAnimate" ng-if="(getPlayer(3).isChaal==true && !getPlayer(3).isFold)  || (getPlayer(3) && startCoinAnime)">
          <img src="img/coin.png" class="coin">{{chaalAmt}}
        </div>
        <players id="plr7" ng-click="sitHerefn(7)" ng-pos="7" ng-remaining-player="remainingCount" ng-player="getPlayer(2)" ng-sit-here="sitHere"
          ng-win="winnerPlayerNo" ng-animation="startAnimation">
        </players>
        <div class="p7 bootAnimate" ng-if="(getPlayer(2).isChaal==true && !getPlayer(2).isFold) || (getPlayer(2) && startCoinAnime)">
          <img src="img/coin.png" class="coin">{{chaalAmt}}
        </div>
        <players id="plr8" ng-click="sitHerefn(8)" ng-pos="8" ng-remaining-player="remainingCount" ng-player="getPlayer(1)" ng-sit-here="sitHere"
          ng-win="winnerPlayerNo" ng-animation="startAnimation">
        </players>
        <div class="p8 bootAnimate" ng-if="(getPlayer(1).isChaal==true && !getPlayer(1).isFold) ||  (getPlayer(1) && startCoinAnime)">
          <img src="img/coin.png" class="coin">{{chaalAmt}}
        </div>

        <!-- main Player -->
        <mainPlayer ng-click="sitHerefn(9)" ng-if="sitHere" ng-pos="9" ng-main="9" ng-player="getPlayer(0)" ng-sit-here="sitHere"
          ng-win="winnerPlayerNo">
        </mainPlayer>
        <mainPlayer ng-click="sitHerefn(9)" ng-if="!sitHere" ng-pos="0" ng-main="main-player" ng-player="getPlayer(0)" ng-sit-here="sitHere"
          ng-win="winnerPlayerNo"> </mainPlayer>
        <div class="p9 bootAnimate" ng-if="(getPlayer(0).isChaal==true && !getPlayer(0).isFold) ||  (getPlayer(0) && startCoinAnime)">
          <img src="img/coin.png" class="coin">{{chaalAmt}}
        </div>
        <!--end  main Player -->
      </div>
      <!-- end player -->

      <!-- <div class="p9 bootAnimate" ng-if="true">
        <img src="img/coin.png" class="coin">{{potAmt}}
      </div> -->

      <!--showCard-->
      <div class="showing_cards" ng-if="!sitHere && (getPlayer(0).cards.length > 0)" ng-class="{'main_card_anime':getPlayer(0).cards.length>0 && startAnimation}">
        <div class="custom-row" ng-if="(getPlayer(0) && getPlayer(0).isBlind && !getPlayer(0).isFold && remainingCount>1) || ( winnerPlayerNo == -1 && remainingCount == 1)">
          <card card='NONE'></card>
          <card card='NONE'></card>
          <card card='NONE'></card>
        </div>
        <div ng-if="(!getPlayer(0).isBlind && !getPlayer(0).isFold) || (!getPlayer(0).isFold && winnerPlayerNo != -1 && remainingCount > 1)">
          <div class=" custom-row ">
            <card card='{{getPlayer(0).cards[0]}}'> </card>
            <card card='{{getPlayer(0).cards[1]}}'> </card>
            <card card='{{getPlayer(0).cards[2]}}'> </card>
          </div>
        </div>
        <div ng-if="getPlayer(0).isBlind && !startAnimation && !getPlayer(0).isFold && (getPlayer(0).cards.length > 0) && (remainingCount>1) && (winnerPlayerNo==-1)"
          class="card_see" ng-click="showCard()">See</div>
      </div>
    </div>
    <div class="playing-player-info" ng-if="!sitHere && getPlayer(0) ">
      <button class="pack" ng-click="pack()" ng-if="getPlayer(0).isTurn && !getPlayer(0).isFold" promise-btn="packPromise">
        PACK</button>
      <button class="slide_show" ng-click="sideShow()" ng-if="(getPlayer(0).isTurn)&& (remainingCount > 2) && !getPlayer(0).isFold"
        ng-disabled="seenPlayer > 0" promise-btn="sideShowPromise"> side show </button>
      <button class="slide_show " ng-click="showWinner()" promise-btn="showWinnerPromise" ng-if="(getPlayer(0).isTurn) && (remainingCount == 2) && !getPlayer(0).isFold">show</button>
      <span class="info" ng-class="{'color_red':insufficientFunds}"> {{getPlayer(0).name}}
        <img src="img/coin.png"> {{getPlayer(0).balance}}
        <!-- <span ng-if="insufficientFunds && " >3X remaining</span> -->
      </span>
      <button class="minus no-click-effect" ng-click="removeCoin()" ng-if="getPlayer(0).isTurn && betamount>minAmt && !getPlayer(0).isFold">
        -
      </button>
      <button class="minus no-click-effect opacity-05" ng-if="getPlayer(0).isTurn && betamount<=minAmt && !getPlayer(0).isFold">
        -
      </button>
      <button class="coin" ng-click="playChaal()" promise-btn="chaalPromise" ng-if="getPlayer(0).isTurn && !getPlayer(0).isFold">
        <img src="img/coin.png"> {{betamount}}
        <span ng-if="getPlayer(0).isBlind">blind </span>
        <span ng-if="!getPlayer(0).isBlind"> chaal</span>
      </button>
      <button class="plus no-click-effect" ng-click="addCoin()" ng-if="getPlayer(0).isTurn && betamount<maxAmt && !getPlayer(0).isFold">+</button>
      <button class="plus no-click-effect opacity-05" ng-if="getPlayer(0).isTurn && betamount>=maxAmt && !getPlayer(0).isFold">+</button>
    </div>
  </div>
</div>


<div class="loader table_loader" ng-if="ShowLoader">
  <div class="center">
    <img src="img/logo.png" class="loader-logo">
    <div>Loading... </div>
    <img src="img/spinner.gif">
  </div>


</div>
